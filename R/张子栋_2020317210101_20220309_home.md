# 课后习题三

1. 通过 R 内部自带的 iris 数据集，熟悉数据框的各种计算。

   1. 获取每一列变量的名称

      ```R
      > colnames(iris)
      [1] "Sepal.Length" "Sepal.Width"  "Petal.Length" "Petal.Width"  "Species" 
      ```

   2. 用 `str` 函数获取每一列变量的数据类型

      ```R
      > str(iris)
      'data.frame':	150 obs. of  5 variables:
       $ Sepal.Length: num  5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...
       $ Sepal.Width : num  3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...
       $ Petal.Length: num  1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...
       $ Petal.Width : num  0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...
       $ Species     : Factor w/ 3 levels "setosa","versicolor",..: 1 1 1 1 1 1 1 1 1 1 ...
      ```

   3. 用 `table` 函数统计各 `species` 的样本个数

      ```R
      > table(iris$Species)
      
          setosa versicolor  virginica 
              50         50         50
      ```

   4. 分别根据 `Species` 的种类计算 `Sepal.Length` 及 `Sepal.Width` 的平均值和标准差。

      ```R
      > setosa <- iris[which(iris$Species == 'setosa'),]
      > versicolor <- iris[which(iris$Species == 'versicolor'),]
      > virginica <- iris[which(iris$Species == 'virginica'),]
      > apply(setosa[,3:4], 2, mean)
      Petal.Length  Petal.Width 
             1.462        0.246 
      > apply(setosa[,3:4], 2, sd)
      Petal.Length  Petal.Width 
         0.1736640    0.1053856 
      > apply(versicolor[,3:4], 2, mean)
      Petal.Length  Petal.Width 
             4.260        1.326 
      > apply(versicolor[,3:4], 2, sd)
      Petal.Length  Petal.Width 
         0.4699110    0.1977527 
      > apply(virginica[,3:4], 2, mean)
      Petal.Length  Petal.Width 
             5.552        2.026 
      > apply(virginica[,3:4], 2, sd)
      Petal.Length  Petal.Width 
         0.5518947    0.2746501 
      ```

2. 数据读取练习(`genepre.xlsx`)

   1. 读取基因表达数据(用 2 种方法)

      1. 转为 csv 格式

      ```R
      > genepre<-read.csv("genepre.csv")
      ```

      ![image-20220310213419175](张子栋_2020317210101_20220309_home.assets/image-20220310213419175.png)

      2. 使用 `readxl::read_excel`

      ```R
      > data<-readxl::read_excel("genepre.xlsx",1)
      New names:
      * `` -> ...1
      * `` -> ...49
      There were 50 or more warnings (use warnings() to see the first 50)
      ```

      ![image-20220310213509980](张子栋_2020317210101_20220309_home.assets/image-20220310213509980.png)

   2. 利用 `apply` 函数计算各基因(各行)的平均值

      ```R
      
      ```
      
   3. 找出该平均值最大的行

      ```R
      
      ```

   4. 找出表格所有数中的最大值和其行, 列号

   5. 表格第一列为探针编号, 找到探针`37567_at` `32737_at` 和 `143_s_at` 所在的行号, 并提取对应行的内容.

3. 混合同余法: 利用如下递推公式
   $$
   x_n=(ax_{n-1}+c) \ \mathrm{mod}\  m
   $$
   用混合同余法产生 $x_n$ 编写一个函数, 并利用该函数计算
   $$
   如果 \ x_0=3\\
   x_n=(5x_{n-1}+7)\ \mathrm{mod} \ 200\\
   求 \ x_1,x_2,\cdots,x_10
   $$